# System Overview

SlopScore.ai uses a multi-agent architecture where specialized AI agents work in parallel to verify different aspects of video content.

The architecture follows a `stateless, request-response model`. We do not store user history or require authentication. The system is designed for immediate, real-time analysis.

## High-Level Data Flow

1.  **Input:** User pastes a YouTube URL in the Next.js Frontend.
2.  **Extraction:** The backend fetches the transcript, metadata, and description links immediately.
3.  **Pre-Processing (Transparency Check):** The Supervisor checks if sources are provided. If not, it flags a "Transparency Gap" immediately.
4.  **Orchestration:** A `LangGraph Supervisor` delegates tasks to worker agents.
5.  **Parallel Execution:** The two core agents (Truth Seeker & Network Auditor) run simultaneously.
6.  **Synthesis:** The Supervisor aggregates the results and applies the **Weighted SlopScore Formula** (60% Claims, 30% Sources, 10% Transparency).
7.  **Visualization:** The Frontend renders the Trust Report.

## Architecture Diagram

```mermaid
graph TD
    User[User Interface] -->|POST /api/analyze| API[Next.js API Route]

    subgraph "Extraction Layer"
        API -->|Fetch| YT[YouTube Data/Transcript]
    end

    subgraph "Agentic Layer (LangGraph)"
        YT -->|Context| Supervisor[Supervisor Agent]

        Supervisor -->|Internal Logic| TranspCheck[Transparency Check]

        Supervisor -->|Delegate| ClaimAgent[Claim Verifying Agent]
        Supervisor -->|Delegate| CitationAgent[Citation Tracer Agent]

        ClaimAgent -->|Tools| GoogleFactCheck[Google Fact Check API]
        ClaimAgent -->|Tools| Brave[Brave Search API]

        CitationAgent -->|Tools| Scraper[Web Scraper / WHOIS]
    end

    ClaimAgent -->|Result| Supervisor
    CitationAgent -->|Result| Supervisor

    Supervisor -->|Final JSON| API
    API -->|Trust Report| User
```

## Key Design Decisions

- `Edge-Ready Logic`: Where possible, we use lightweight fetching logic compatible with Vercel Edge functions to reduce cold starts.
- `Strict Timeouts`: To ensure the UI doesn't hang, every agent has a hard timeout (e.g., 15 seconds). If an agent fails, the report is generated with partial data rather than crashing.
- `No Persistence`: As per the MVP scope, we are not using a database. Every analysis is fresh.
